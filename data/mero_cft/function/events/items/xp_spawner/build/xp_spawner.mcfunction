execute if entity @s[tag = !MeroCraftingTable_CheckPassed] run function mero_cft:main/execute_failed
execute if entity @s[tag = !MeroCraftingTable_CheckPassed] run return -1

setblock ~ ~ ~ minecraft:spawner{SpawnCount: 3s, SpawnRange: 3s, RequiredPlayerRange: 192s, MaxNearbyEntities: 128s, MinSpawnDelay: 400s, MaxSpawnDelay: 800s, Delay: 600s, SpawnData: {entity: {id: "minecraft:experience_orb", Value: 1}}, SpawnPotentials: [{data: {entity: {id: "minecraft:experience_orb", Age: -18000s, Value: 1s, Count: 1}, custom_spawn_rules: {block_light_limit: [I; 0, 15], sky_light_limit: [I; 0, 15]}}, weight: 10}, {data: {entity: {id: "minecraft:experience_orb", Age: -18000s, Value: 1s, Count: 2}, custom_spawn_rules: {block_light_limit: [I; 0, 15], sky_light_limit: [I; 0, 15]}}, weight: 6}, {data: {entity: {id: "minecraft:experience_orb", Age: -18000s, Value: 3s, Count: 1}, custom_spawn_rules: {block_light_limit: [I; 0, 15], sky_light_limit: [I; 0, 15]}}, weight: 3}, {data: {entity: {id: "minecraft:experience_orb", Age: -18000s, Value: 5s, Count: 1, Glowing: true}, custom_spawn_rules: {block_light_limit: [I; 0, 15], sky_light_limit: [I; 0, 15]}}, weight: 1}]}
summon minecraft:text_display ~ ~1.2 ~ {billboard: "center", width: 0, alignment: "center", text: '[{"text": "經驗產生器\\n", "color": "#EEA6FF"}, {"text": "平均產量：", "color": "white"}, {"text": "7.2 exp/min", "color": "aqua"}]', Tags: ["MeroCraftingTable_ExpSpawner"]}
playsound block.anvil.place block @s ~ ~ ~ 1 0.8 1

clear @s minecraft:written_book[minecraft:custom_data= {ItemID: "mero_cft:build_xp_spawner"}] 1
give @s minecraft:written_book[minecraft:item_name= '[{"text": "", "italic": false}, {"text": "經驗產生器", "color": "#AA63EB"}, {"text": "（拆除）", "color": "gold"}]', lore= ['[{"text": "", "color": "green", "italic": false}, {"text": "用來拆除普通的經驗生成器"}]', '{"text": ""}', '[{"text": "稀有度：", "color": "#FA0056", "italic": false}, {"text": "史詩", "color": "#AA63EB", "italic": false}]'], minecraft:written_book_content= {author: "芒果羊羊", title: "經驗產生器", generation: 0, resolved: true, pages: ['["", {"text": "　　"}, {"text": "【拆除經驗生成器】", "color": "#FF0000", "hoverEvent": {"action": "show_text", "contents": [{"text": "請先站在「經驗產生器」上方再拆除，\\n", "color": "gold"}, [{"text": "否則將導致", "color": "gold"}, {"text": "拆除失敗", "color": "#FF0000"}]]}, "clickEvent": {"action": "run_command", "value": "/execute as @s at @s run function mero_cft:events/items/xp_spawner/destroy"}}]']}, minecraft:custom_data= {ItemID: "mero_cft:destroy_xp_spawner"}] 1
